<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-138613977-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-138613977-1');
</script>


  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

 


      <title>LFortran Breakthrough: Now Building Legacy and Modern Minpack - </title>

  <meta name="description" content="Two days ago on April 30, 2023 was the 4th anniversary of LFortran&rsquo;s initial release. Our initial prototype in 2019 was in Python. Since then we have rewritten to C&#43;&#43; for speed and robustness. In 2021 we announced an MVP.
In this update, we are happy to announce that LFortran can compile and run both legacy and modern Minpack. We&rsquo;ll start off by taking a look at the current compilation status and benchmarks of minpack."><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "LFortran",
    
    "url": "https:\/\/lfortran.org\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/lfortran.org\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/lfortran.org\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/lfortran.org\/blog\/2023\/05\/lfortran-breakthrough-now-building-legacy-and-modern-minpack\/",
          "name": "Lfortran breakthrough now building legacy and modern minpack"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "[Ondřej Čertík](https:\/\/ondrejcertik.com\/), [Brian Beckman](https:\/\/www.linkedin.com\/in\/brianbeckman), [Gagandeep Singh](https:\/\/github.com\/czgdp1807), [Thirumalai Shaktivel](https:\/\/www.linkedin.com\/in\/thirumalai-shaktivel\/), [Rohit Goswami](https:\/\/rgoswami.me), [Smit Lunagariya](https:\/\/www.linkedin.com\/in\/smit-lunagariya-356b93179\/), [Ubaid Shaikh](https:\/\/www.ubaidshaikh.me\/), [Pranav Goswami](https:\/\/www.linkedin.com\/in\/pranavgoswami1\/)"
  },
  "headline": "LFortran Breakthrough: Now Building Legacy and Modern Minpack",
  "description" : "Two days ago on April 30, 2023 was the 4th anniversary of LFortran\u0026rsquo;s initial release. Our initial prototype in 2019 was in Python. Since then we have rewritten to C\u002b\u002b for speed and robustness. In 2021 we announced an MVP.\nIn this update, we are happy to announce that LFortran can compile and run both legacy and modern Minpack. We\u0026rsquo;ll start off by taking a look at the current compilation status and benchmarks of minpack.",
  "inLanguage" : "en",
  "wordCount":  1570 ,
  "datePublished" : "2023-05-02T00:00:00",
  "dateModified" : "2023-05-02T00:00:00",
  "image" : "https:\/\/lfortran.org\/",
  "keywords" : [ "Fortran, Announcement" ],
  "mainEntityOfPage" : "https:\/\/lfortran.org\/blog\/2023\/05\/lfortran-breakthrough-now-building-legacy-and-modern-minpack\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/lfortran.org\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/lfortran.org\/",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="LFortran Breakthrough: Now Building Legacy and Modern Minpack" />
<meta property="og:description" content="Two days ago on April 30, 2023 was the 4th anniversary of LFortran&rsquo;s initial release. Our initial prototype in 2019 was in Python. Since then we have rewritten to C&#43;&#43; for speed and robustness. In 2021 we announced an MVP.
In this update, we are happy to announce that LFortran can compile and run both legacy and modern Minpack. We&rsquo;ll start off by taking a look at the current compilation status and benchmarks of minpack.">
<meta property="og:url" content="https://lfortran.org/blog/2023/05/lfortran-breakthrough-now-building-legacy-and-modern-minpack/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="LFortran" />

  <meta name="twitter:title" content="LFortran Breakthrough: Now Building Legacy and Modern Minpack" />
  <meta name="twitter:description" content="Two days ago on April 30, 2023 was the 4th anniversary of LFortran&rsquo;s initial release. Our initial prototype in 2019 was in Python. Since then we have rewritten to C&#43;&#43; for speed and robustness. …">
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="generator" content="Hugo 0.96.0" />
  <link rel="alternate" href="https://lfortran.org/index.xml" type="application/rss+xml" title="LFortran"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://lfortran.org/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://lfortran.org/css/syntax.css" /><link rel="stylesheet" href="https://lfortran.org/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">





<style>
h2 {
    font-size: 20px;
}
p, li {
    text-align: justify;
}
img {
    display: inline;
}
h1.h1heading {
    text-align: center;
}
h2.h2heading {
    text-align: center;
    font-size: 20px;
    font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
    font-weight: 300;
    margin: 0 0 0;
}
#benefit i {
    margin-right: 20px;
}
#benefit {
    padding-left: 30px;
    padding-right: 30px;
}
#benefits {
    margin-top: 30px;
    margin-bottom: 50px;
}
.post-heading .post-meta a {
  color: #008AFF;
}
.post-heading .post-meta a:hover, a:focus {
  color: #0085a1;
  text-decoration: underline;
}

[data-toggle="collapse"].collapsed .if-not-collapsed {
  display: none;
}
[data-toggle="collapse"]:not(.collapsed) .if-collapsed {
  display: none;
}
</style>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-138613977-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://lfortran.org/">LFortran</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Download" href="/download/">Download</a>
            </li>
          
        
          
            <li>
              <a title="Documentation" href="https://docs.lfortran.org/">Documentation</a>
            </li>
          
        
          
            <li>
              <a title="Blog" href="/blog/">Blog</a>
            </li>
          
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>LFortran Breakthrough: Now Building Legacy and Modern Minpack</h1>
              
              
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on May 2, 2023
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;8&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;1570&nbsp;words
  
  
    &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;<a href="https://ondrejcertik.com/">Ondřej Čertík</a>, <a href="https://www.linkedin.com/in/brianbeckman">Brian Beckman</a>, <a href="https://github.com/czgdp1807">Gagandeep Singh</a>, <a href="https://www.linkedin.com/in/thirumalai-shaktivel/">Thirumalai Shaktivel</a>, <a href="https://rgoswami.me">Rohit Goswami</a>, <a href="https://www.linkedin.com/in/smit-lunagariya-356b93179/">Smit Lunagariya</a>, <a href="https://www.ubaidshaikh.me/">Ubaid Shaikh</a>, <a href="https://www.linkedin.com/in/pranavgoswami1/">Pranav Goswami</a>
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>Two days ago on April 30, 2023 was the 4th anniversary of LFortran&rsquo;s
<a href="https://lfortran.org/blog/2019/04/why-we-created-lfortran/">initial release</a>. Our initial prototype in 2019 was in Python. Since then we
have rewritten to C++ for speed and robustness. In 2021 we announced an <a href="https://lfortran.org/blog/2021/09/lfortran-minimum-viable-product-mvp/">MVP</a>.</p>
<p>In this update, we are happy to announce that <a href="https://github.com/lfortran/lfortran">LFortran</a> can compile and run both
legacy and modern Minpack. We&rsquo;ll start off by taking a look at the current
compilation status and benchmarks of minpack. From there, we&rsquo;ll provide an
overview of where LFortran is currently at and share our next steps going
forward.</p>
<h1 id="minpack-overview">Minpack Overview</h1>
<p>Let us briefly recall why MINPACK is of importance to the wider community and makes a good test case.</p>
<blockquote>
<p>MINPACK is a collection of Fortran subroutines for solving nonlinear equations and nonlinear least squares problems. It is a fundamental component of many scientific and engineering applications, and has been widely used since its release in the 1970s. Its importance extends to modern data science, as it forms the core of the optimization routines used in the popular Python library, SciPy. The MINPACK algorithms provide robust and efficient solutions to nonlinear optimization problems, and have been critical in fields such as physics, chemistry, and engineering, among others. The availability of MINPACK in both Fortran and Python has enabled efficient and effective solutions to complex problems across multiple domains.
&mdash; ChatGPT 3.5 / Wikipedia</p>
</blockquote>
<p>We can now compile Minpack to executables, both legacy (verbatim from
the <a href="https://github.com/scipy/scipy/tree/f797ac7721310c7bd98bae416be1bed9975b4203/scipy/optimize/minpack">SciPy</a> Python library) and modern (<a href="https://github.com/fortran-lang/minpack">fortran-lang/minpack</a>), both are now
tested at our CI for every commit to LFortran.</p>
<p>Here is how you can try it yourself by installing the latest version (0.19.0) of <code>lfortran</code> using Conda:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ conda create -n lfenv -c conda-forge lfortran<span style="color:#f92672">=</span>0.19.0
</span></span><span style="display:flex;"><span>$ conda activate lfenv
</span></span><span style="display:flex;"><span>$ git clone https://github.com/fortran-lang/minpack
</span></span><span style="display:flex;"><span>$ cd minpack
</span></span><span style="display:flex;"><span>$ lfortran -c src/minpack.f90
</span></span><span style="display:flex;"><span>$ lfortran examples/example_hybrd.f90
</span></span><span style="display:flex;"><span>FINAL L2 NORM OF THE RESIDUALS 1.19263583475980921e-08 NUMBER OF FUNCTION EVALUATIONS 14 EXIT PARAMETER 1 FINAL APPROXIMATE SOLUTION
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>-5.70654511600659053e-01
</span></span><span style="display:flex;"><span>-6.81628342291230593e-01
</span></span><span style="display:flex;"><span>-7.01732452563471165e-01
</span></span><span style="display:flex;"><span>-7.04212940083752348e-01
</span></span><span style="display:flex;"><span>-7.01369047627288800e-01
</span></span><span style="display:flex;"><span>-6.91865643379914186e-01
</span></span><span style="display:flex;"><span>-6.65792012154689195e-01
</span></span><span style="display:flex;"><span>-5.96034201280816633e-01
</span></span><span style="display:flex;"><span>-4.16412062998471999e-01
</span></span></code></pre></div><p>The results can be verified against GFortran:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-console" data-lang="console"><span style="display:flex;"><span>$ gfortran src/minpack.f90 examples/example_hybrd.f90 <span style="color:#f92672">&amp;&amp;</span> ./a.out
</span></span><span style="display:flex;"><span>     FINAL L2 NORM OF THE RESIDUALS  0.1192636D-07
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>     NUMBER OF FUNCTION EVALUATIONS        14
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>     EXIT PARAMETER                         1
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>     FINAL APPROXIMATE SOLUTION
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>      -0.5706545D+00 -0.6816283D+00 -0.7017325D+00
</span></span><span style="display:flex;"><span>      -0.7042129D+00 -0.7013690D+00 -0.6918656D+00
</span></span><span style="display:flex;"><span>      -0.6657920D+00 -0.5960342D+00 -0.4164121D+00
</span></span></code></pre></div><h2 id="performance">Performance</h2>
<p>Some preliminary benchmarks have been run, and the results are very promising as can be seen in the table below:</p>
<table>
<thead>
<tr>
<th>Compiler &amp; Flags</th>
<th>Ubuntu 22.04 Relative Execution Time (n=523)</th>
<th>Mac M1 2020 Relative Execution Time (n=523)</th>
<th>Apple M1 2020 MacBook Pro macOS Ventura 13.3.1 Relative Execution Time (n=825)</th>
<th>Apple M1 Max Relative Execution Time (n=523)</th>
</tr>
</thead>
<tbody>
<tr>
<td>GFortran with -ffast-math</td>
<td>1.000 (0.196 s)</td>
<td>1.000 (0.641 s)</td>
<td>1.000 (0.350 s)</td>
<td>1.000 (0.090 s)</td>
</tr>
<tr>
<td>LFortran &ndash;fast</td>
<td>4.299 (0.842 s)</td>
<td>1.196 (0.641 s)</td>
<td>1.829 (0.766 s)</td>
<td>1.778 (0.160 s)</td>
</tr>
<tr>
<td>GFortran without -ffast-math</td>
<td>2.418 (0.474 s)</td>
<td>1.078 (0.692 s)</td>
<td>1.686 (0.590 s)</td>
<td>1.667 (0.150 s)</td>
</tr>
<tr>
<td>Clang -O3 -ffast-math</td>
<td>-</td>
<td>-</td>
<td>1.886 (0.660 s)</td>
<td>-</td>
</tr>
<tr>
<td>LFortran, Clang with -ffast-math</td>
<td>1.265 (0.248 s)</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>These results show the relative execution times of different compilers and compiler flags on four different machines.</p>
<p>The first column shows the compiler and flags used. The second, third, fourth, and fifth columns show the relative execution time of each compiler and flag combination on Ubuntu 22.04, Mac M1 2020, Apple M1 2020 MacBook Pro macOS Ventura 13.3.1, and Apple M1 Max, respectively. The times are given in seconds within brackets.</p>
<p>For example, on Ubuntu 22.04, GFortran with <code>-ffast-math</code> had an execution time of 0.196 seconds, and all other compilers/flags were compared to this time. On Mac M1 2020, the same code compiled with GFortran and <code>-ffast-math</code> had an execution time of 0.641 seconds, which is why the relative execution time for GFortran on this machine is also 1.000.</p>
<p>The <code>lfortran --fast</code> version enables &ldquo;safe&rdquo; optimizations in LLVM, but not
&ldquo;fast-math&rdquo; optimizations yet (if you know how to do it, please send us a PR).
For now we can test the &ldquo;fast-math&rdquo; optimizations by first saving to LLVM IR
and then using Clang with <code>-ffast-math</code>.</p>
<p>Our design allows us to do high level optimizations in our intermediate
representation which we call Abstract Semantic Representation (ASR). We already
have quite a few ASR to ASR passes, but they are currently mostly used to
simplify ASR for easier lowering to LLVM. Once we can compile most Fortran
codes, we will focus more on implementing various optimizations as ASR to ASR
passes. However, as you can see from the benchmarks, we are already within a
factor of 2x against GFortran, a mature open source optimizing compiler (if we
compare either &ldquo;fast-math&rdquo; optimizations in both, or turn it off in both).
Consequently we believe we will be able to close the gap in the future and
provide the high performance that Fortran users expect.</p>
<h1 id="lfortran-tenets">LFortran Tenets</h1>
<ul>
<li><strong>Fast:</strong> The LFortran compiler must be fast to compile user&rsquo;s code and the generated executable must be fast to run in Release mode. The C++ code of the compiler itself must be fast to build (currently it takes about 25s on Apple M1 Max).</li>
<li><strong>Agile Development:</strong> Minutes to days to merge a Pull Request (PR).</li>
<li><strong>Low Budget:</strong> Not attached to a big corporation, does not require big budget. Scrappy startup flavor effort. Just a handful of people managed to bring in 4 years from nothing to Minpack.</li>
<li><strong>Easy to Retarget:</strong> Many backends already: LLVM, C, C++, WASM, Julia, x64. More planned (Python, Fortran, arm64).</li>
<li><strong>Flexible Backends:</strong> Must run on any hardware.</li>
<li><strong>Maximum Performance:</strong> Our goal is maximum performance on all hardware (CPU, GPU, APU, HPC, WASM, etc.).</li>
<li><strong>Easy to Change Surface Language:</strong> We currently have <a href="https://lfortran.org/">LFortran</a> and <a href="https://lpython.org/">LPython</a>. We plan to add more frontends (C, C++, etc.).</li>
<li><strong>Interactive and Binary Compiler:</strong> Compile interactively (Jupyter notebook) and to binaries.</li>
<li><strong>Clear Roadmap:</strong> Focused clean development.</li>
</ul>
<h2 id="current-status">Current Status</h2>
<ul>
<li>LFortran LLVM binary compilation: alpha (556 tests and legacy/modern Minpack)</li>
<li>Free-form parser: beta (should be able to parse any code, close to 1000 tests)</li>
<li>Fixed-form parser: alpha (can parse all of SciPy, but not necessarily all other
fixed-form code; about 100 tests and all of SciPy)</li>
<li>Interactivity (Jupyter notebook): alpha</li>
<li>Online version via WASM (<a href="https://dev.lfortran.org/">dev.lfortran.org</a>): alpha</li>
<li>Backends:
<ul>
<li>LLVM: alpha (409 integration tests, 147 reference tests)</li>
<li>C/C++: alpha (52 integration tests, 40 reference tests)</li>
<li>Julia: alpha (45 reference tests)</li>
<li>WASM: alpha (180 integration tests)</li>
<li>x64 (via WASM): alpha (19 integration tests, 2 reference tests)</li>
</ul>
</li>
<li>Language features that fully compile and work:
<ul>
<li>Large subset of F77, F90 and F95:
<ul>
<li>All primitive types (integer, real, complex, logical, character), 32 and
64 bit</li>
<li>Multi-dimensional arrays</li>
<li>Derived types</li>
<li>Function Callbacks</li>
<li>Nested functions (closures)</li>
<li>Many intrinsic functions (trigonometric, clock, sum/any/, etc.)</li>
<li>Generic procedures</li>
<li><code>iso_c_binding</code> (F2003)</li>
</ul>
</li>
<li>Almost every significant feature of F95, F03, F08 and F18 has at least a prototype
mode, including type bound procedures, inheritance, do concurrent, etc.</li>
<li>Prototype of F202Y generics (templates)</li>
</ul>
</li>
</ul>
<p>Note: <em>alpha</em> means it is expected to break (you have to workaround
the limitations), <em>beta</em> means it is expected to work (but have bugs) and <em>production</em>
means it is expected to have no bugs.</p>
<p>Here are the stages of development:</p>
<table>
<thead>
<tr>
<th>Stage</th>
<th>Expectation</th>
<th>Tests</th>
<th>Who provides tests</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>prototype</strong></td>
<td>breaks</td>
<td>0 - 100</td>
<td>author (biased)</td>
</tr>
<tr>
<td><strong>alpha</strong></td>
<td>breaks</td>
<td>100 - 500</td>
<td>internal customers</td>
</tr>
<tr>
<td><strong>beta</strong></td>
<td>works, has bugs</td>
<td>500 - 1000</td>
<td>external customers</td>
</tr>
<tr>
<td><strong>production</strong></td>
<td>works, no bugs</td>
<td>&gt; 1000</td>
<td>everyone</td>
</tr>
</tbody>
</table>
<p>And we list the number of tests that we have for each part of LFortran, so you
can get an idea of the development status and robustness.</p>
<p>The overall status of LFortran is <em>alpha</em>, using the default compilation to
binary via LLVM. As you can see, it is much closer to beta than a prototype,
but we are not beta yet.</p>
<h2 id="timeline-and-prognosis">Timeline and Prognosis</h2>
<ul>
<li>0 years (April 30, 2019): <a href="https://lfortran.org/blog/2019/04/why-we-created-lfortran/">initial release</a></li>
<li>2.5 years (September 23, 2021): <a href="https://lfortran.org/blog/2021/09/lfortran-minimum-viable-product-mvp/">MVP</a></li>
<li>4 years (April 30, 2023): Minpack runs</li>
</ul>
<p>Is our progress fast or slow? Generally it takes about 3-5 years to create a
compiler from scratch for a large mainstream language, and about 10 years to get
a production mature industry-strength compiler with optimizations. Our team is
still small. In the initial stages it was just the efforts of a single person
(Ondřej) working part time. Over the last 1.5 years we first had two and now
around 5 people working part time.
Overall we believe we are on schedule, with increasing momentum and new features rolling in on a weekly basis.</p>
<p>Consider our contributors over time, compared against the &ldquo;classic&rdquo; <code>flang</code>, an industrial effort:</p>
<p><img src="https://gitlab.com/lfortran/web/www.lfortran.org/uploads/da7205b9ef33f6496b98b4ace0f3d4f8/github-contributor-over-time-20230502.png" alt="lfortran vs flang" title="Contributors over time compared to `flang`, [with this tool](https://git-contributor.com/?chart=contributorOverTime&amp;repo=lfortran/lfortran,flang-compiler/flang)"></p>
<p>A more telling picture is from the standard Github visual:</p>
<p><img src="https://gitlab.com/lfortran/web/www.lfortran.org/uploads/95196b49eb59c62e93e4ba6de806bc90/image.png" alt="lfortran github time" title="Contributions over time"></p>
<p>Where we see much of the effort was single handedly Ondřej for the first 2.5
years. Then over the last 1.5 years others joined. Ondřej also took almost 1
year off to <a href="https://ondrejcertik.com/blog/2021/03/resurrecting-fortran/">bootstrap</a> fortran-lang around 2020.</p>
<h1 id="whats-next">What&rsquo;s Next?</h1>
<p>We have funding and a small team working on compiling the Fortran Package
Manager (<a href="https://github.com/fortran-lang/fpm">fpm</a>) and the rest of <a href="https://github.com/scipy/scipy/tree/f797ac7721310c7bd98bae416be1bed9975b4203/scipy/optimize/minpack">SciPy</a>. We are always looking for more
contributors, if you are interested, please get in touch.</p>
<p>Our immediate focus is on compiling as many Fortran codes as possible, starting
with <code>fpm</code> and <code>SciPy</code>. After we can compile and run large parts of the Fortran
ecosystem, we will focus on interactivity, runtime performance and various
tools built on top such as language servers, running on hardware accelerators,
running online (WASM), Fortran to C++, Python and Julia translation, etc.</p>
<h1 id="acknowledgements">Acknowledgements</h1>
<p>We want to thank:</p>
<ul>
<li><a href="https://www.gsitechnology.com/">GSI Technology</a></li>
<li><a href="https://lanl.gov/">LANL</a></li>
<li><a href="https://numfocus.org/">NumFOCUS</a></li>
<li><a href="https://sovereigntechfund.de/en/">Sovereign Tech Fund (STF)</a></li>
<li><a href="https://quantstack.net/">QuantStack</a></li>
<li><a href="https://summerofcode.withgoogle.com/">Google Summer of Code</a></li>
<li>Our GitHub, OpenCollective and NumFOCUS sponsors</li>
<li>All our contributors (51 so far!)</li>
</ul>
<h1 id="discussions">Discussions</h1>
<ul>
<li>Twitter: <a href="https://twitter.com/lfortranorg/status/1653421763261501440">https://twitter.com/lfortranorg/status/1653421763261501440</a></li>
<li>Fortran Discourse: <a href="https://fortran-lang.discourse.group/t/lfortran-can-now-build-legacy-and-modern-minpack/5718">https://fortran-lang.discourse.group/t/lfortran-can-now-build-legacy-and-modern-minpack/5718</a></li>
</ul>


        
          <div class="blog-tags">
            
              <a href="https://lfortran.org//tags/fortran/">Fortran</a>&nbsp;
            
              <a href="https://lfortran.org//tags/announcement/">Announcement</a>&nbsp;
            
          </div>
        

        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://lfortran.org/blog/2022/05/lfortran-google-season-of-docs-gsod/" data-toggle="tooltip" data-placement="top" title="LFortran Google Season of Docs (GSoD)">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="https://lfortran.org/blog/2023/09/lfortran-compiles-fastgpt/" data-toggle="tooltip" data-placement="top" title="LFortran Compiles fastGPT">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
        </ul>
        <p class="credits copyright text-muted">
          

          &nbsp;&bull;&nbsp;&copy;
          
            2024
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://lfortran.org/">LFortran</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
           
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://lfortran.org/js/main.js"></script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://lfortran.org/js/load-photoswipe.js"></script>









  </body>
</html>

